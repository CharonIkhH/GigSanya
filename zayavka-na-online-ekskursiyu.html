<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GigSys - IT-аутсорсинг и поддержка</title>
    
    <!-- Подключение CSS файла -->
    <link rel="stylesheet" href="assets/templates/css/ex.css">

    
    <!-- Остальные подключения -->
    <!-- Основные стили с атрибутами для оптимизации -->
    <link rel="stylesheet" href="assets/templates/libs/bootstrap4/bootstrap-grid.min.css" media="all">
    <link rel="stylesheet" href="assets/templates/libs/bootstrap4/bootstrap-reboot.min.css" media="all">
    <link rel="stylesheet" href="assets/templates/libs/animate/animate.css" media="all">
    <link rel="stylesheet" href="assets/templates/libs/magnific/magnific-popup.css" media="all">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" 
          integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" 
          crossorigin="anonymous"
          referrerpolicy="no-referrer">
    <link rel="stylesheet" href="assets/templates/css/fonts.css" media="all">
    <link rel="stylesheet" href="assets/templates/css/main.css" media="all">
    <link rel="stylesheet" href="assets/templates/css/root.css" media="all">
    <link rel="stylesheet" href="assets/templates/css/header.css" media="all">
</head>
<body>

    <div class="container">
        <header class="header-modern" id="main-header" itemscope itemtype="http://schema.org/WPHeader">
          <div class="header-wrapper">
            <!-- Логотип с улучшенными атрибутами -->
            <div class="logo-box" itemscope itemtype="http://schema.org/Organization">
              <a href="index.htm" class="logo-link" title="GigSys - IT аутсорсинг и поддержка бизнеса">
                <img src="assets/templates/img/logo2.webp" alt="GigSys - IT-аутсорсинг и поддержка" width="180" height="50" itemprop="logo" loading="eager">
                <meta itemprop="name" content="GigSys">
                <meta itemprop="url" content="https://gigsys.ru">
              </a>
            </div>
            
            <!-- Главная навигация (десктоп) с микроразметкой -->
            <nav class="desktop-nav" itemscope itemtype="http://schema.org/SiteNavigationElement" aria-label="Основная навигация">
              <ul class="main-menu" role="menubar">
                <li class="active" role="menuitem"><a href="index.htm" itemprop="url"><span itemprop="name">Главная</span></a></li>
                <li role="menuitem"><a href="o-kompanii.html" itemprop="url"><span itemprop="name">О компании</span></a></li>
                <li role="menuitem"><a href="landing.html" itemprop="url"><span itemprop="name">Мероприятия</span></a></li>
                <li class="menu-item-has-children" role="menuitem">
                  <a href="#" class="services-toggle" 
                     aria-haspopup="true" 
                     aria-expanded="false"
                     aria-controls="mega-menu-services"
                     itemprop="url">
                    <span class="toggle-icon"><i class="fas fa-th-large" aria-hidden="true"></i></span>
                    <span class="toggle-text" itemprop="name">Услуги</span>
                    <span class="toggle-arrow"><i class="fas fa-chevron-down" aria-hidden="true"></i></span>
                  </a>
                  
                  <!-- Мега-меню с улучшенной семантикой -->
                  <div class="mega-menu" id="mega-menu-services" role="region" aria-label="Меню услуг">
                    <!-- Мобильная кнопка закрытия -->
                    <button class="mega-menu-close d-md-none" aria-label="Закрыть меню">
                      <i class="fas fa-times" aria-hidden="true"></i>
                    </button>
                    
                    <!-- Верхняя навигация по меню с микроразметкой и улучшенной доступностью -->
                    <div class="mega-menu-header">
                      <div class="container">
                        <div class="menu-categories" role="tablist" aria-label="Категории услуг">
                          <button class="menu-category active" 
                                  data-category="it" 
                                  role="tab" 
                                  id="tab-it" 
                                  aria-selected="true" 
                                  aria-controls="panel-it">ИТ-услуги</button>
                          <button class="menu-category" 
                                  data-category="infra" 
                                  role="tab" 
                                  id="tab-infra" 
                                  aria-selected="false" 
                                  aria-controls="panel-infra">Инфраструктура</button>
                          <button class="menu-category" 
                                  data-category="security" 
                                  role="tab" 
                                  id="tab-security" 
                                  aria-selected="false" 
                                  aria-controls="panel-security">Безопасность</button>
                          <button class="menu-category" 
                                  data-category="software" 
                                  role="tab" 
                                  id="tab-software" 
                                  aria-selected="false" 
                                  aria-controls="panel-software">ПО и сервисы</button>
                        </div>
                      </div>
                    </div>
    
                    <!-- Основной контент меню с микроразметкой для каждой услуги -->
                    <div class="mega-menu-content">
                      <div class="container">
                        <!-- ИТ-услуги -->
                        <div class="menu-panel active" 
                             data-panel="it" 
                             role="tabpanel" 
                             id="panel-it" 
                             aria-labelledby="tab-it">
                          <div class="menu-panel-grid">
                            <div class="menu-column">
                              <div class="menu-group">
                                <h4 class="menu-group-title">
                                  <i class="fas fa-headset" aria-hidden="true"></i>
                                  Поддержка и аутсорсинг
                                </h4>
                                <ul class="menu-list" role="menu">
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="it-support.html">
                                      <span class="link-icon"><i class="fas fa-user-headset" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">IT-поддержка</span>
                                        <span class="link-desc" itemprop="description">Профессиональная поддержка вашего бизнеса</span>
                                        <meta itemprop="serviceType" content="IT Support">
                                      </span>
                                    </a>
                                  </li>
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="it-podderzhka.html">
                                      <span class="link-icon"><i class="fas fa-users-cog" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">IT-аутсорсинг</span>
                                        <span class="link-desc" itemprop="description">Комплексное обслуживание инфраструктуры</span>
                                        <meta itemprop="serviceType" content="IT Outsourcing">
                                      </span>
                                    </a>
                                  </li>
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="virtual-office.html">
                                      <span class="link-icon"><i class="fas fa-laptop-house" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">Виртуальный офис</span>
                                        <span class="link-desc" itemprop="description">Защищенное рабочее пространство</span>
                                        <meta itemprop="serviceType" content="Virtual Office">
                                      </span>
                                    </a>
                                  </li>
                                </ul>
                              </div>
                            </div>
                            
                            <div class="menu-column">
                              <div class="menu-group">
                                <h4 class="menu-group-title">
                                  <i class="fas fa-info-circle" aria-hidden="true"></i>
                                  О компании
                                </h4>
                                <ul class="menu-list" role="menu">
                                  <li role="menuitem">
                                    <a href="o-kompanii.html">
                                      <span class="link-icon"><i class="fas fa-building" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title">О нас</span>
                                        <span class="link-desc">История и ценности компании</span>
                                      </span>
                                    </a>
                                  </li>
                                  <li role="menuitem">
                                    <a href="kontaktyi.html">
                                      <span class="link-icon"><i class="fas fa-address-card" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title">Контакты</span>
                                        <span class="link-desc">Свяжитесь с нашими специалистами</span>
                                      </span>
                                    </a>
                                  </li>
                                  <li role="menuitem">
                                    <a href="landing.html">
                                      <span class="link-icon"><i class="fas fa-newspaper" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title">Мероприятияspan>
                                        <span class="link-desc">Актуальные события</span>
                                      </span>
                                    </a>
                                  </li>
                                </ul>
                              </div>
                            </div>
                            
                            <!-- Выделенное предложение с микроразметкой -->
                            <div class="menu-panel-highlight" itemscope itemtype="http://schema.org/Offer">
                              <div class="highlight-content">
                                <div class="highlight-badge">Популярное</div>
                                <h3 itemprop="name">Выгодный IT-аутсорсинг</h3>
                                <p itemprop="description">Альтернатива штатным специалистам. Экономия до 30% на IT-затратах.</p>
                                <a href="it-poddergka.html" class="highlight-btn" itemprop="url">
                                  Подробнее
                                  <i class="fas fa-long-arrow-right" aria-hidden="true"></i>
                                </a>
                              </div>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Инфраструктура -->
                        <div class="menu-panel" 
                             data-panel="infra" 
                             role="tabpanel" 
                             id="panel-infra" 
                             aria-labelledby="tab-infra">
                          <div class="menu-panel-grid">
                            <div class="menu-column">
                              <div class="menu-group">
                                <h4 class="menu-group-title">
                                  <i class="fas fa-server" aria-hidden="true"></i>
                                  Серверы и сети
                                </h4>
                                <ul class="menu-list" role="menu">
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="obsluzhivanie-serverov.html">
                                      <span class="link-icon"><i class="fas fa-wrench" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">Обслуживание серверов</span>
                                        <span class="link-desc" itemprop="description">Техническая поддержка и мониторинг</span>
                                        <meta itemprop="serviceType" content="Server Maintenance">
                                      </span>
                                    </a>
                                  </li>
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="montazh-kompyuternykh-setey.html">
                                      <span class="link-icon"><i class="fas fa-network-wired" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">Монтаж компьютерных сетей</span>
                                        <span class="link-desc" itemprop="description">Проектирование и развертывание сетей</span>
                                        <meta itemprop="serviceType" content="Network Installation">
                                      </span>
                                    </a>
                                  </li>
                                </ul>
                              </div>
                            </div>
                            
                            <div class="menu-column">
                              <div class="menu-group">
                                <h4 class="menu-group-title">
                                  <i class="fas fa-cloud" aria-hidden="true"></i>
                                  Облачные решения
                                </h4>
                                <ul class="menu-list" role="menu">
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="hosting.html">
                                      <span class="link-icon"><i class="fas fa-server" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">Хостинг</span>
                                        <span class="link-desc" itemprop="description">Надежный хостинг для ваших проектов</span>
                                        <meta itemprop="serviceType" content="Hosting">
                                      </span>
                                    </a>
                                  </li>
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="virtual-office.html">
                                      <span class="link-icon"><i class="fas fa-desktop" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">Виртуальный офис</span>
                                        <span class="link-desc" itemprop="description">Работа из любой точки мира</span>
                                        <meta itemprop="serviceType" content="Virtual Office">
                                      </span>
                                    </a>
                                  </li>
                                </ul>
                              </div>
                            </div>
                            
                            <!-- Выделенное предложение с микроразметкой -->
                            <div class="menu-panel-highlight infra-highlight" itemscope itemtype="http://schema.org/Offer">
                              <div class="highlight-content">
                                <div class="highlight-badge">Выгодно</div>
                                <h3 itemprop="name">Обслуживание серверов</h3>
                                <p itemprop="description">Профессиональное администрирование и мониторинг с гарантией 99.9% работоспособности</p>
                                <a href="obsluzhivanie-serverov.html" class="highlight-btn" itemprop="url">
                                  Подробнее
                                  <i class="fas fa-long-arrow-right" aria-hidden="true"></i>
                                </a>
                              </div>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Безопасность -->
                        <div class="menu-panel" 
                             data-panel="security" 
                             role="tabpanel" 
                             id="panel-security" 
                             aria-labelledby="tab-security">
                          <div class="menu-panel-grid">
                            <div class="menu-column">
                              <div class="menu-group">
                                <h4 class="menu-group-title">
                                  <i class="fas fa-shield-alt" aria-hidden="true"></i>
                                  Кибербезопасность
                                </h4>
                                <ul class="menu-list" role="menu">
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="it-podderzhka.html#security">
                                      <span class="link-icon"><i class="fas fa-lock" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">Информационная безопасность</span>
                                        <span class="link-desc" itemprop="description">Комплексная защита IT-систем</span>
                                        <meta itemprop="serviceType" content="Information Security">
                                      </span>
                                    </a>
                                  </li>
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="virtual-office.html">
                                      <span class="link-icon"><i class="fas fa-virus-slash" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">Защищенный офис</span>
                                        <span class="link-desc" itemprop="description">Безопасное рабочее пространство</span>
                                        <meta itemprop="serviceType" content="Secure Office">
                                      </span>
                                    </a>
                                  </li>
                                </ul>
                              </div>
                            </div>
                            
                            <div class="menu-column">
                              <div class="menu-group">
                                <h4 class="menu-group-title">
                                  <i class="fas fa-video" aria-hidden="true"></i>
                                  Физическая безопасность
                                </h4>
                                <ul class="menu-list" role="menu">
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="ustanovka-videonablyudeniya.html">
                                      <span class="link-icon"><i class="fas fa-camera" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">Видеонаблюдение</span>
                                        <span class="link-desc" itemprop="description">Установка камер в офисы</span>
                                        <meta itemprop="serviceType" content="Video Surveillance">
                                      </span>
                                    </a>
                                  </li>
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="montazh-kompyuternykh-setey.html#security">
                                      <span class="link-icon"><i class="fas fa-key" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">Защита сетей</span>
                                        <span class="link-desc" itemprop="description">Безопасность сетевой инфраструктуры</span>
                                        <meta itemprop="serviceType" content="Network Security">
                                      </span>
                                    </a>
                                  </li>
                                </ul>
                              </div>
                            </div>
                            
                            <!-- Выделенное предложение с микроразметкой -->
                            <div class="menu-panel-highlight security-highlight" itemscope itemtype="http://schema.org/Offer">
                              <div class="highlight-content">
                                <div class="highlight-badge">Рекомендуем</div>
                                <h3 itemprop="name">Установка видеонаблюдения</h3>
                                <p itemprop="description">Современные системы видеонаблюдения для вашего офиса с удаленным доступом</p>
                                <a href="ustanovka-videonablyudeniya.html" class="highlight-btn" itemprop="url">
                                  Подробнее
                                  <i class="fas fa-long-arrow-right" aria-hidden="true"></i>
                                </a>
                              </div>
                            </div>
                          </div>
                        </div>
                        
                        <!-- ПО и сервисы -->
                        <div class="menu-panel" 
                             data-panel="software" 
                             role="tabpanel" 
                             id="panel-software" 
                             aria-labelledby="tab-software">
                          <div class="menu-panel-grid">
                            <div class="menu-column">
                              <div class="menu-group">
                                <h4 class="menu-group-title">
                                  <i class="fas fa-laptop-code" aria-hidden="true"></i>
                                  Разработка
                                </h4>
                                <ul class="menu-list" role="menu">
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="landing.html">
                                      <span class="link-icon"><i class="fas fa-globe" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">Разработка лендингов</span>
                                        <span class="link-desc" itemprop="description">Создание продающих страниц</span>
                                        <meta itemprop="serviceType" content="Landing Page Development">
                                      </span>
                                    </a>
                                  </li>
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="virtual-office.html#solutions">
                                      <span class="link-icon"><i class="fas fa-code" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">Облачные решения</span>
                                        <span class="link-desc" itemprop="description">Программные продукты для бизнеса</span>
                                        <meta itemprop="serviceType" content="Cloud Solutions">
                                      </span>
                                    </a>
                                  </li>
                                </ul>
                              </div>
                            </div>
                            
                            <div class="menu-column">
                              <div class="menu-group">
                                <h4 class="menu-group-title">
                                  <i class="fas fa-calculator" aria-hidden="true"></i>
                                  Бизнес-приложения
                                </h4>
                                <ul class="menu-list" role="menu">
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="uslugi-1c.html">
                                      <span class="link-icon"><i class="fas fa-calculator" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">Услуги 1С</span>
                                        <span class="link-desc" itemprop="description">Внедрение и поддержка 1С</span>
                                        <meta itemprop="serviceType" content="1C Services">
                                      </span>
                                    </a>
                                  </li>
                                  <li role="menuitem" itemscope itemtype="http://schema.org/Service">
                                    <a href="prostoe-reshenie-slozhnyix-zadach.html">
                                      <span class="link-icon"><i class="fas fa-cloud-download-alt" aria-hidden="true"></i></span>
                                      <span class="link-content">
                                        <span class="link-title" itemprop="name">1С ФРЕШ</span>
                                        <span class="link-desc" itemprop="description">Преимущества облачной 1С</span>
                                        <meta itemprop="serviceType" content="1C Fresh">
                                      </span>
                                    </a>
                                  </li>
                                </ul>
                              </div>
                            </div>
                            
                            <!-- Выделенное предложение с микроразметкой -->
                            <div class="menu-panel-highlight software-highlight" itemscope itemtype="http://schema.org/Offer">
                              <div class="highlight-content">
                                <div class="highlight-badge">Акция</div>
                                <h3 itemprop="name">1С ФРЕШ в облаке</h3>
                                <p itemprop="description">Простое решение сложных задач. Преимущества облачной версии 1С.</p>
                                <a href="prostoe-reshenie-slozhnyix-zadach.html" class="highlight-btn" itemprop="url">
                                  Подробнее
                                  <i class="fas fa-long-arrow-right" aria-hidden="true"></i>
                                </a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    
                    <!-- Футер меню с микроразметкой -->
                    <div class="mega-menu-footer">
                      <div class="container">
                        <div class="mm-footer-content">
                          <div class="mm-footer-cta">
                            <p>Нужна консультация специалиста?</p>
                            <a href="kontaktyi.html" class="mm-cta-btn" itemscope itemtype="http://schema.org/ContactPoint">
                              <i class="fas fa-phone-alt" aria-hidden="true"></i>
                              <span itemprop="name">Получить консультацию</span>
                              <meta itemprop="contactType" content="customer support">
                            </a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </li>
                <li role="menuitem"><a href="kontaktyi.html" itemprop="url"><span itemprop="name">Контакты</span></a></li>
              </ul>
            </nav>
            
            <!-- Контактная информация с микроразметкой -->
            <div class="header-contacts" itemscope itemtype="http://schema.org/Organization">
              <meta itemprop="name" content="GigSys">
              <div class="contact-item">
                <a href="#map-modal" class="popup-with-form contact-link">
                  <div class="contact-icon">
                    <i class="fa fa-map-marker-alt" aria-hidden="true"></i>
                  </div>
                  <div class="contact-text">
                    <div class="contact-label">Адрес офиса</div>
                    <div class="contact-info" itemprop="address" itemscope itemtype="http://schema.org/PostalAddress">
                      <span itemprop="addressLocality">г. Москва</span>, 
                      <span itemprop="streetAddress">Ракетный бульвар, д.15, оф.31</span>
                    </div>
                  </div>
                </a>
              </div>
              
              <div class="contact-item">
                <a href="tel:88003501160" class="contact-link" itemprop="telephone">
                  <div class="contact-icon">
                    <i class="fa fa-phone-alt" aria-hidden="true"></i>
                  </div>
                  <div class="contact-text">
                    <div class="contact-label">Телефон</div>
                    <div class="contact-info">8 (499) 350-11-60</div>
                  </div>
                </a>
              </div>
              
              <!-- Добавление скрытых полей для SEO -->
              <meta itemprop="email" content="it@gigsys.ru">
              <meta itemprop="url" content="https://gigsys.ru">
              <meta itemprop="foundingDate" content="2010">
            </div>
            
            <!-- CTA Buttons с вертикальным расположением -->
            <div class="header-actions vertical">
              <a href="#callback" class="btn btn-primary popup-with-form" rel="nofollow">
                <i class="fas fa-headset" aria-hidden="true"></i>
                <span>Заказать звонок</span>
              </a>
              
              <a href="http://lk.gigsys.ru/hd/customer.pl" target="_blank" class="btn btn-outline" rel="noopener">
                <i class="fas fa-user-circle" aria-hidden="true"></i>
                <span>Личный кабинет</span>
              </a>
            </div>
            
            <!-- Мобильное меню (бургер) -->
            <button class="mobile-menu-toggle" 
                    aria-label="Открыть меню" 
                    aria-expanded="false" 
                    aria-controls="mobile-menu">
              <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
              </div>
            </button>
          </div>
          
          <!-- Мобильное меню (выпадающее) с улучшенной доступностью -->
          <div class="mobile-menu" id="mobile-menu" aria-hidden="true">
            <div class="mobile-menu-header">
              <div class="mobile-logo">
                <a href="index.htm">
                  <img src="assets/templates/img/logo.png" alt="GigSys - IT аутсорсинг" width="140" height="35" loading="lazy">
                </a>
              </div>
              <button class="mobile-menu-close" aria-label="Закрыть меню">
                <i class="fas fa-times" aria-hidden="true"></i>
              </button>
            </div>
            
            <div class="mobile-menu-content">
              <div class="mobile-search">
                <form action="search.html" method="get" role="search">
                  <input type="text" name="q" placeholder="Поиск..." aria-label="Поиск">
                  <button type="submit" aria-label="Искать"><i class="fa fa-search" aria-hidden="true"></i></button>
                </form>
              </div>
              
              <!-- Мобильная навигация с микроразметкой -->
              <nav class="mobile-nav" itemscope itemtype="http://schema.org/SiteNavigationElement">
                <ul>
                  <li class="active"><a href="index.htm" itemprop="url"><span itemprop="name">Главная</span></a></li>
                  <li><a href="o-kompanii.html" itemprop="url"><span itemprop="name">О компании</span></a></li>
                  <li><a href="landing.html" itemprop="url"><span itemprop="name">Мероприятия</span></a></li>
                  <li class="has-dropdown">
                    <a href="#" aria-expanded="false" aria-haspopup="true">
                      <span itemprop="name">Услуги</span> <i class="fas fa-chevron-down" aria-hidden="true"></i>
                    </a>
                    <ul class="mobile-submenu">
                      <li itemscope itemtype="http://schema.org/Service">
                        <a href="it-support.html" itemprop="url">
                          <i class="fas fa-headset" aria-hidden="true"></i> 
                          <span itemprop="name">IT-поддержка</span>
                        </a>
                      </li>
                      <li itemscope itemtype="http://schema.org/Service">
                        <a href="it-autsorsing.html" itemprop="url">
                          <i class="fas fa-tasks" aria-hidden="true"></i> 
                          <span itemprop="name">IT-аутсорсинг</span>
                        </a>
                      </li>
                      <li itemscope itemtype="http://schema.org/Service">
                        <a href="virtual-office.html" itemprop="url">
                          <i class="fas fa-shield-alt" aria-hidden="true"></i> 
                          <span itemprop="name">Защищенный офис</span>
                        </a>
                      </li>
                      <li itemscope itemtype="http://schema.org/Service">
                        <a href="obsluzhivanie-serverov.html" itemprop="url">
                          <i class="fas fa-server" aria-hidden="true"></i> 
                          <span itemprop="name">Серверы</span>
                        </a>
                      </li>
                      <li itemscope itemtype="http://schema.org/Service">
                        <a href="montazh-kompyuternykh-setey.html" itemprop="url">
                          <i class="fas fa-network-wired" aria-hidden="true"></i> 
                          <span itemprop="name">Офисные сети</span>
                        </a>
                      </li>
                      <li itemscope itemtype="http://schema.org/Service">
                        <a href="ustanovka-videonablyudeniya.html" itemprop="url">
                          <i class="fas fa-video" aria-hidden="true"></i> 
                          <span itemprop="name">Видеонаблюдение</span>
                        </a>
                      </li>
                      <li itemscope itemtype="http://schema.org/Service">
                        <a href="uslugi-1c.html" itemprop="url">
                          <i class="fas fa-calculator" aria-hidden="true"></i> 
                          <span itemprop="name">Услуги 1С</span>
                        </a>
                      </li>
                      <li itemscope itemtype="http://schema.org/Service">
                        <a href="hosting.html" itemprop="url">
                          <i class="fas fa-cloud" aria-hidden="true"></i> 
                          <span itemprop="name">Хостинг</span>
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li><a href="kontaktyi.html" itemprop="url"><span itemprop="name">Контакты</span></a></li>
                </ul>
              </nav>
              
              <!-- Контактная информация для мобильного меню с микроразметкой -->
              <div class="mobile-contacts" itemscope itemtype="http://schema.org/Organization">
                <meta itemprop="name" content="GigSys">
                <div class="mobile-contact-item">
                  <i class="fa fa-phone" aria-hidden="true"></i>
                  <a href="tel:88003501160" itemprop="telephone">8(499)350-11-60</a>
                </div>
                <div class="mobile-contact-item">
                  <i class="fa fa-envelope" aria-hidden="true"></i>
                  <a href="mailto:it@gigsys.ru" itemprop="email">it@gigsys.ru</a>
                </div>
                <div class="mobile-contact-item">
                  <i class="fa fa-map-marker" aria-hidden="true"></i>
                  <address itemprop="address" itemscope itemtype="http://schema.org/PostalAddress">
                    <span itemprop="addressLocality">г. Москва</span>, 
                    <span itemprop="streetAddress">Ракетный бульвар, д.15, оф.31</span>
                  </address>
                </div>
              </div>
              
              <!-- Кнопки действий в мобильном меню -->
              <div class="mobile-actions">
                <a href="#callback" class="btn btn-primary popup-with-form" rel="nofollow">
                  <i class="fas fa-headset" aria-hidden="true"></i>
                  <span>Заказать звонок</span>
                </a>
                
                <a href="http://lk.gigsys.ru/hd/customer.pl" target="_blank" class="btn btn-outline" rel="noopener">
                  <i class="fas fa-user-circle" aria-hidden="true"></i>
                  <span>Личный кабинет</span>
                </a>
              </div>
            </div>
          </div>
          
          <!-- Roistat script с async и defer для ускорения загрузки -->
          <script src="https://widget.roistat.com/widget/s8xWAIxVHJ" async defer></script>
        </header>
    

        <section class="tour-form-section">
            <div class="container">
                <!-- Добавляем плавающие формы для визуального эффекта -->
                <div class="floating-shapes">
                    <div class="shape shape-1"></div>
                    <div class="shape shape-2"></div>
                    <div class="shape shape-3"></div>
                </div>
                
                <h1 class="tour-title">Запись на онлайн-экскурсию</h1>
                <p class="tour-subtitle">Заполните форму ниже, чтобы записаться на бесплатную онлайн-экскурсию по нашей компании. Мы свяжемся с вами для подтверждения даты и времени.</p>
                
                <div class="tour-form-container">
                    <!-- Иконка для формы -->
                    <div class="form-icon">
                        <i class="fas fa-video"></i>
                    </div>
                    
                    <!-- Оповещения -->
                    <div class="alert alert-success" id="form-success">
                        <span class="alert-icon"><i class="fas fa-check-circle"></i></span>
                        <div class="alert-content">
                            Спасибо за запись на онлайн-экскурсию! Мы свяжемся с вами в ближайшее время для подтверждения деталей.
                        </div>
                    </div>
                    <div class="alert alert-error" id="form-error">
                        <span class="alert-icon"><i class="fas fa-exclamation-circle"></i></span>
                        <div class="alert-content">
                            Произошла ошибка при отправке формы. Пожалуйста, попробуйте еще раз или свяжитесь с нами по телефону.
                        </div>
                    </div>
                    
                    <!-- Форма записи -->
                    <form id="tour-form" method="post">
                        <input type="hidden" name="form_subject" value="Запись на онлайн-экскурсию">
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="name" class="form-label">
                                        <span class="form-label-icon"><i class="fas fa-user-circle"></i></span>
                                        Ваше имя *
                                    </label>
                                    <input type="text" class="form-control" id="name" name="name" placeholder="Иван Иванов" required>
                                    <i class="fas fa-user input-icon"></i>
                                    <div class="form-error" id="name-error">Пожалуйста, укажите ваше имя</div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="phone" class="form-label">
                                        <span class="form-label-icon"><i class="fas fa-phone"></i></span>
                                        Телефон *
                                    </label>
                                    <input type="tel" class="form-control" id="phone" name="phone" placeholder="+7 (900) 123-45-67" required>
                                    <i class="fas fa-phone-alt input-icon"></i>
                                    <div class="form-error" id="phone-error">Пожалуйста, укажите ваш телефон</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="email" class="form-label">
                                        <span class="form-label-icon"><i class="fas fa-envelope"></i></span>
                                        Email
                                    </label>
                                    <input type="email" class="form-control" id="email" name="email" placeholder="ivanov@example.com">
                                    <i class="fas fa-envelope input-icon"></i>
                                    <div class="form-error" id="email-error">Пожалуйста, укажите корректный email</div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="preferred_date" class="form-label">
                                        <span class="form-label-icon"><i class="fas fa-calendar-alt"></i></span>
                                        Предпочтительная дата *
                                    </label>
                                    <input type="date" class="form-control" id="preferred_date" name="preferred_date" required>
                                    <i class="fas fa-calendar-day input-icon"></i>
                                    <div class="form-error" id="date-error">Пожалуйста, укажите предпочтительную дату</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-divider">Дополнительная информация</div>
                        
                        <div class="form-group">
                            <label for="comments" class="form-label">
                                <span class="form-label-icon"><i class="fas fa-comment-alt"></i></span>
                                Комментарии или вопросы
                            </label>
                            <textarea class="form-control" id="comments" name="comment" rows="4" placeholder="Ваши пожелания или вопросы..."></textarea>
                            <i class="fas fa-comment input-icon"></i>
                        </div>
                        
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="agreement" name="agreement" required>
                            <span class="checkmark"></span>
                            <label class="form-check-label" for="agreement">
                                Я согласен на обработку персональных данных в соответствии с <a href="privacy-policy.html" target="_blank">политикой конфиденциальности</a> *
                            </label>
                            <div class="form-error" id="agreement-error">Необходимо согласие на обработку персональных данных</div>
                        </div>
                        
                        <button type="submit" class="btn-submit">
                            <span>Отправить заявку</span>
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>
                </div>
            </div>
        </section>
        
    
        <!-- Подключение скриптов -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script>
            $(document).ready(function() {
                // Валидация и отправка формы
                $('#tour-form').on('submit', function(e) {
                    e.preventDefault();
                    
                    // Сброс ошибок
                    $('.form-error').hide();
                    
                    // Проверка полей
                    let valid = true;
                    
                    if ($('#name').val().trim() === '') {
                        $('#name-error').show();
                        valid = false;
                    }
                    
                    if ($('#phone').val().trim() === '') {
                        $('#phone-error').show();
                        valid = false;
                    }
                    
                    if ($('#preferred_date').val() === '') {
                        $('#date-error').show();
                        valid = false;
                    }
                    
                    if (!$('#agreement').is(':checked')) {
                        $('#agreement-error').show();
                        valid = false;
                    }
                    
                    if (valid) {
                        // Отправка данных
                        $.ajax({
                            type: 'POST',
                            url: 'send_tour_request.php',
                            data: $(this).serialize(),
                            dataType: 'json',
                            success: function(response) {
                                if (response.success) {
                                    $('#form-success').show();
                                    $('#tour-form').hide();
                                } else {
                                    $('#form-error').text(response.error || 'Произошла ошибка при отправке формы').show();
                                }
                            },
                            error: function() {
                                $('#form-error').show();
                            }
                        });
                    }
                });
            });
        </script>    
    <section class="ind-contact-section">
        <div class="ind-contact-overlay"></div>
        <div class="ind-contact-main">
            <div class="ind-contact-container">
                <div class="ind-contact-form">
                    <h2 class="ind-contact-form-title">Наши контакты</h2>
                    <p class="ind-contact-form-description">Остались вопросы? Задайте их нашему менеджеру, и мы свяжемся с вами в ближайшее время</p>
                    <form id="telegramForm"> <!-- Добавляем тег form с id -->
                      <div class="ind-contact-inputs">
                          <input type="text" id="userName" placeholder="Ваше имя" required>
                          <input type="email" id="userEmail" placeholder="E-mail" required>
                          <input type="tel" id="userPhone" placeholder="Телефон" required>
                          <textarea id="userMessage" placeholder="Ваш вопрос" required></textarea>
                          <!-- Блок reCAPTCHA временно удален -->
                          <button type="submit" class="ind-contact-submit">Отправить</button>
                      </div>
                    </form>
                    <div class="ind-contact-social-links">
                        <a href="javascript:void(0)" class="ind-contact-social-link">
                            <i class="fab fa-telegram"></i>
                        </a>
                        <a href="javascript:void(0)" class="ind-contact-social-link">
                            <i class="fab fa-vk"></i>
                        </a>
                        <a href="javascript:void(0)" class="ind-contact-social-link">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>
                <div class="ind-contact-map">
                    <iframe
                        src="https://yandex.ru/map-widget/v1/?ll=37.653694%2C55.819090&z=16&mode=search&oid=1252968732&ol=biz&source=main_page"
                        width="560"
                        height="400"
                        frameborder="1"
                        allowfullscreen="true">
                    </iframe>
                </div>
            </div>
        </div>
      </section>
      
      <script>/**
          /**
       * FormSender - Отправка данных из HTML-формы в Telegram
       * Версия 3.2.0 (исправленная)
       */
      document.addEventListener('DOMContentLoaded', function() {
          console.log('[FormSender] Инициализация скрипта отправки формы в Telegram');
          
          // Конфигурация
          console.log('[FormSender] Загрузка конфигурации');
          const CONFIG = {
              // Настройки Telegram-бота
              telegram: {
                  botToken: '7813140158:AAHm1-JG4KDjHTb83zNieLAyqy8-MEu6FwY',
                  chatId: '-1001940374630'
              },
              
              // Селекторы
              selectors: {
                  form: '#telegramForm',
                  name: '#userName',
                  email: '#userEmail',
                  phone: '#userPhone',
                  message: '#userMessage',
                  submitButton: '.ind-contact-submit'
              },
              
              // Сообщения
              messages: {
                  sending: 'Отправка...',
                  success: 'Сообщение успешно отправлено! Мы свяжемся с вами в ближайшее время.',
                  error: 'Произошла ошибка при отправке сообщения. Пожалуйста, попробуйте позже.',
                  nameRequired: 'Пожалуйста, введите ваше имя',
                  phoneRequired: 'Пожалуйста, введите номер телефона',
                  emailInvalid: 'Пожалуйста, введите корректный email адрес',
                  phoneInvalid: 'Пожалуйста, введите корректный номер телефона'
              },
              
              // Повторные попытки при ошибке
              retry: {
                  enabled: true,
                  maxAttempts: 3,
                  delay: 2000 // мс
              },
              
              // Таймаут запроса
              timeout: 15000 // мс
          };
          console.log('[FormSender] Конфигурация загружена успешно');
          
          // Находим форму
          console.log('[FormSender] Поиск формы на странице по селектору', CONFIG.selectors.form);
          const form = document.querySelector(CONFIG.selectors.form);
          
          if (!form) {
              console.error('[FormSender] Ошибка: Форма не найдена на странице');
              return;
          }
          console.log('[FormSender] Форма успешно найдена');
          
          // Добавляем обработчик отправки формы
          console.log('[FormSender] Добавление обработчика отправки формы');
          form.addEventListener('submit', function(e) {
              console.log('[FormSender] Событие отправки формы активировано');
              e.preventDefault();
              console.log('[FormSender] Стандартная отправка формы предотвращена');
              
              // Очищаем предыдущие сообщения об ошибках
              console.log('[FormSender] Очистка предыдущих сообщений об ошибках');
              clearFormErrors();
              
              // Получаем данные из формы
              console.log('[FormSender] Получение данных из формы');
              const formData = {
                  name: getFieldValue(CONFIG.selectors.name),
                  email: getFieldValue(CONFIG.selectors.email),
                  phone: getFieldValue(CONFIG.selectors.phone),
                  message: getFieldValue(CONFIG.selectors.message)
              };
              console.log('[FormSender] Данные формы получены:', formData);
              
              // Валидируем данные
              console.log('[FormSender] Начало валидации данных формы');
              if (!validateForm(formData)) {
                  console.log('[FormSender] Валидация не пройдена, отправка отменена');
                  return;
              }
              console.log('[FormSender] Валидация успешно пройдена');
              
              // Получаем ссылку на кнопку отправки
              console.log('[FormSender] Получение ссылки на кнопку отправки');
              const submitButton = form.querySelector(CONFIG.selectors.submitButton);
              const originalButtonText = submitButton ? submitButton.textContent : 'Отправить';
              console.log('[FormSender] Оригинальный текст кнопки сохранен:', originalButtonText);
              
              // Блокируем кнопку и показываем статус отправки
              if (submitButton) {
                  console.log('[FormSender] Блокировка кнопки отправки');
                  submitButton.disabled = true;
                  submitButton.textContent = CONFIG.messages.sending;
              }
              
              // Отправляем данные
              console.log('[FormSender] Начало процесса отправки данных в Telegram');
              sendToTelegram(formData)
                  .then(() => {
                      console.log('[FormSender] Отправка успешно выполнена');
                      // Показываем сообщение об успехе
                      console.log('[FormSender] Отображение сообщения об успешной отправке');
                      showNotification(CONFIG.messages.success, 'success');
                      // Сбрасываем форму
                      console.log('[FormSender] Сброс формы');
                      form.reset();
                  })
                  .catch(error => {
                      console.error('[FormSender] Ошибка отправки:', error.message);
                      console.log('[FormSender] Отображение сообщения об ошибке');
                      showNotification(CONFIG.messages.error, 'error');
                  })
                  .finally(() => {
                      console.log('[FormSender] Завершение процесса отправки');
                      // Восстанавливаем кнопку
                      if (submitButton) {
                          console.log('[FormSender] Восстановление кнопки отправки');
                          submitButton.disabled = false;
                          submitButton.textContent = originalButtonText;
                      }
                  });
          });
          
          /**
           * Отправляет данные в Telegram с повторными попытками
           */
          async function sendToTelegram(data) {
              console.log('[FormSender] Запуск функции отправки в Telegram');
              let attempts = 0;
              let lastError = null;
              
              while (attempts < CONFIG.retry.maxAttempts) {
                  attempts++;
                  console.log(`[FormSender] Попытка отправки #${attempts} из ${CONFIG.retry.maxAttempts}`);
                  
                  try {
                      // Формируем сообщение
                      console.log('[FormSender] Форматирование сообщения для Telegram');
                      const message = formatTelegramMessage(data);
                      console.log('[FormSender] Сообщение сформировано');
                      
                      // Используем fetch с таймаутом
                      console.log(`[FormSender] Инициализация запроса с таймаутом ${CONFIG.timeout}мс`);
                      const controller = new AbortController();
                      const timeoutId = setTimeout(() => controller.abort(), CONFIG.timeout);
                      
                      console.log('[FormSender] Отправка HTTP запроса к Telegram API');
                      const response = await fetch(`https://api.telegram.org/bot${CONFIG.telegram.botToken}/sendMessage`, {
                          method: 'POST',
                          headers: {
                              'Content-Type': 'application/json'
                          },
                          body: JSON.stringify({
                              chat_id: CONFIG.telegram.chatId,
                              text: message,
                              parse_mode: 'HTML'
                          }),
                          signal: controller.signal
                      });
                      
                      clearTimeout(timeoutId);
                      console.log('[FormSender] Таймер запроса очищен');
                      
                      // Проверяем тип контента до парсинга
                      console.log('[FormSender] Проверка типа контента ответа');
                      const contentType = response.headers.get('content-type');
                      console.log('[FormSender] Тип контента:', contentType);
                      
                      if (!response.ok) {
                          console.log(`[FormSender] Получен ответ с ошибкой: ${response.status} ${response.statusText}`);
                          // Если получили ошибку, обрабатываем в зависимости от типа контента
                          if (contentType && contentType.includes('application/json')) {
                              console.log('[FormSender] Получен JSON-ответ с ошибкой, парсинг...');
                              const errorData = await response.json();
                              throw new Error(`Ошибка API: ${errorData.description || response.statusText}`);
                          } else {
                              console.log('[FormSender] Получен текстовый ответ с ошибкой, чтение...');
                              const text = await response.text();
                              throw new Error(`Ошибка сервера (${response.status}): ${text.substring(0, 100)}`);
                          }
                      }
                      
                      // Проверяем, что ответ действительно JSON
                      console.log('[FormSender] Проверка формата ответа');
                      if (!contentType || !contentType.includes('application/json')) {
                          console.log('[FormSender] Ответ не в формате JSON, чтение текста...');
                          const text = await response.text();
                          throw new Error('Сервер вернул не JSON ответ');
                      }
                      
                      console.log('[FormSender] Парсинг JSON-ответа');
                      const result = await response.json();
                      
                      if (!result.ok) {
                          console.log('[FormSender] API вернул ошибку в JSON-ответе');
                          throw new Error(result.description || 'Неизвестная ошибка API');
                      }
                      
                      // Если все успешно, возвращаем результат
                      console.log('[FormSender] Сообщение успешно отправлено в Telegram');
                      return result;
                      
                  } catch (error) {
                      console.log(`[FormSender] Ошибка при отправке: ${error.message}`);
                      lastError = error;
                      
                      // Если это последняя попытка или ошибка таймаута, прекращаем попытки
                      if (attempts >= CONFIG.retry.maxAttempts || error.name === 'AbortError') {
                          console.log('[FormSender] Прекращение попыток:', 
                              error.name === 'AbortError' ? 'таймаут' : 'достигнут лимит попыток');
                          break;
                      }
                      
                      // Пауза перед следующей попыткой
                      console.log(`[FormSender] Ожидание ${CONFIG.retry.delay}мс перед следующей попыткой`);
                      await new Promise(resolve => setTimeout(resolve, CONFIG.retry.delay));
                  }
              }
              
              // Если все попытки неудачны, выбрасываем последнюю ошибку
              console.log('[FormSender] Все попытки отправки неудачны');
              throw lastError || new Error('Не удалось отправить сообщение после нескольких попыток');
          }
          
          /**
           * Форматирует сообщение для отправки в Telegram
           */
          function formatTelegramMessage(data) {
              console.log('[FormSender] Форматирование сообщения для Telegram');
              
              // Получаем User-Agent информацию
              console.log('[FormSender] Получение данных User-Agent');
              const userAgent = navigator.userAgent;
              
              // Определяем тип устройства
              console.log('[FormSender] Определение типа устройства');
              const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent);
              const deviceType = isMobile ? 'Мобильное устройство' : 'Десктоп';
              console.log('[FormSender] Тип устройства:', deviceType);
              
              // Собираем данные о браузере и системе
              console.log('[FormSender] Сбор информации о браузере');
              const browserInfo = getBrowserInfo();
              console.log('[FormSender] Информация о браузере:', browserInfo);
              
              // Получаем данные о экране
              console.log('[FormSender] Получение данных о экране');
              const screenResolution = `${window.screen.width}x${window.screen.height}`;
              const colorDepth = window.screen.colorDepth;
              
              // Получаем языковые настройки и часовой пояс
              console.log('[FormSender] Получение языковых настроек и часового пояса');
              const language = navigator.language || navigator.userLanguage;
              const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
              
              // Получаем referrer - откуда пришел пользователь
              console.log('[FormSender] Получение referrer');
              const referrer = document.referrer || 'Прямой переход';
              
              // Собираем UTM-метки
              console.log('[FormSender] Сбор UTM-меток');
              const urlParams = new URLSearchParams(window.location.search);
              const utmSource = urlParams.get('utm_source') || 'Не указано';
              const utmMedium = urlParams.get('utm_medium') || 'Не указано';
              const utmCampaign = urlParams.get('utm_campaign') || 'Не указано';
              const utmContent = urlParams.get('utm_content') || 'Не указано';
              const utmTerm = urlParams.get('utm_term') || 'Не указано';
              console.log('[FormSender] UTM-метки получены');
              
              // Пытаемся получить данные о сессии
              console.log('[FormSender] Получение данных о сессии');
              const visitCount = getVisitCount();
              const sessionDuration = getSessionDuration();
              
              // Дополнительно проверяем возможности браузера
              console.log('[FormSender] Проверка дополнительных возможностей браузера');
              const cookiesEnabled = navigator.cookieEnabled ? 'Да' : 'Нет';
              const doNotTrack = navigator.doNotTrack ? 'Включено' : 'Отключено';
              
              console.log('[FormSender] Формирование финального текста сообщения');
              return `🔔 <b>Новая заявка с сайта!</b>\n\n` +
                     `👤 <b>Имя:</b> ${escapeHtml(data.name)}\n` +
                     `📧 <b>Email:</b> ${escapeHtml(data.email) || 'Не указан'}\n` +
                     `📞 <b>Телефон:</b> ${escapeHtml(data.phone)}\n\n` +
                     `💬 <b>Сообщение:</b>\n${escapeHtml(data.message) || 'Без сообщения'}\n\n` +
                     
                     `📊 <b>Маркетинговые данные:</b>\n` +
                     `🌐 <b>Текущая страница:</b> ${window.location.href}\n` +
                     `↩️ <b>Источник перехода:</b> ${referrer}\n` +
                     `📈 <b>UTM-метки:</b>\n` +
                     `   • Source: ${utmSource}\n` +
                     `   • Medium: ${utmMedium}\n` +
                     `   • Campaign: ${utmCampaign}\n` +
                     `   • Content: ${utmContent}\n` +
                     `   • Term: ${utmTerm}\n` +
                     
                     `💻 <b>Технические данные:</b>\n` +
                     `🖥️ <b>Устройство:</b> ${deviceType}\n` +
                     `🌍 <b>ОС:</b> ${browserInfo.os}\n` +
                     `🌐 <b>Браузер:</b> ${browserInfo.browser} ${browserInfo.version}\n` +
                     `🔧 <b>Разрешение экрана:</b> ${screenResolution}, ${colorDepth}bit\n` +
                     `🗣️ <b>Язык:</b> ${language}\n` +
                     `🕒 <b>Часовой пояс:</b> ${timezone}\n` +
                     `🍪 <b>Cookies разрешены:</b> ${cookiesEnabled}\n` +
                     `🛑 <b>Do Not Track:</b> ${doNotTrack}\n` +
                     
                     `📱 <b>User-Agent:</b> ${userAgent}\n` +
                     
                     `📔 <b>Информация о сессии:</b>\n` +
                     `🔄 <b>Количество посещений:</b> ${visitCount}\n` +
                     `⏱ <b>Продолжительность сессии:</b> ${sessionDuration}\n` +
                     `⌚ <b>Дата и время отправки:</b> ${new Date().toLocaleString()}\n` +
                     `🖥️ <b>IP-адрес:</b> Необходим серверный скрипт\n` +
                     
                     `🔗 <b>ID сеанса:</b> ${generateSessionId()}`;
          }
      
          // Вспомогательные функции
          function getBrowserInfo() {
              console.log('[FormSender] Запуск определения информации о браузере');
              const ua = navigator.userAgent;
              let browser = "Неизвестно";
              let version = "Неизвестно";
              let os = "Неизвестно";
              
              // Определяем ОС
              console.log('[FormSender] Определение операционной системы');
              if (/Windows/.test(ua)) {
                  os = "Windows";
                  console.log('[FormSender] Определена ОС Windows');
              }
              else if (/Macintosh|Mac OS X/.test(ua)) {
                  os = "macOS";
                  console.log('[FormSender] Определена ОС macOS');
              }
              else if (/Linux/.test(ua)) {
                  os = "Linux";
                  console.log('[FormSender] Определена ОС Linux');
              }
              else if (/Android/.test(ua)) {
                  os = "Android";
                  console.log('[FormSender] Определена ОС Android');
              }
              else if (/iPhone|iPad|iPod/.test(ua)) {
                  os = "iOS";
                  console.log('[FormSender] Определена ОС iOS');
              }
              
              // Определяем браузер
              console.log('[FormSender] Определение браузера');
              if (/Edge|Edg/.test(ua)) {
                  browser = "Edge";
                  version = ua.match(/(Edge|Edg)\/(\d+(\.\d+)?)/);
                  console.log('[FormSender] Определен браузер Edge');
              } else if (/Chrome/.test(ua)) {
                  browser = "Chrome";
                  version = ua.match(/Chrome\/(\d+(\.\d+)?)/);
                  console.log('[FormSender] Определен браузер Chrome');
              } else if (/Firefox/.test(ua)) {
                  browser = "Firefox";
                  version = ua.match(/Firefox\/(\d+(\.\d+)?)/);
                  console.log('[FormSender] Определен браузер Firefox');
              } else if (/Safari/.test(ua) && !/Chrome/.test(ua)) {
                  browser = "Safari";
                  version = ua.match(/Version\/(\d+(\.\d+)?)/);
                  console.log('[FormSender] Определен браузер Safari');
              } else if (/MSIE|Trident/.test(ua)) {
                  browser = "Internet Explorer";
                  version = ua.match(/(?:MSIE |rv:)(\d+(\.\d+)?)/);
                  console.log('[FormSender] Определен браузер Internet Explorer');
              } else if (/Opera|OPR/.test(ua)) {
                  browser = "Opera";
                  version = ua.match(/(?:Opera|OPR)\/(\d+(\.\d+)?)/);
                  console.log('[FormSender] Определен браузер Opera');
              }
              
              version = version ? version[1] : "Неизвестно";
              console.log(`[FormSender] Определена версия браузера: ${version}`);
              
              return { browser, version, os };
          }
      
          function getVisitCount() {
              console.log('[FormSender] Получение количества посещений');
              try {
                  let count = parseInt(localStorage.getItem('visitCount') || '0');
                  console.log('[FormSender] Текущее количество посещений:', count);
                  count++;
                  console.log('[FormSender] Увеличиваем счетчик посещений до:', count);
                  localStorage.setItem('visitCount', count);
                  return count;
              } catch (e) {
                  console.log('[FormSender] Ошибка доступа к localStorage:', e.message);
                  return "Недоступно";
              }
          }
      
          function getSessionDuration() {
              console.log('[FormSender] Получение продолжительности сессии');
              try {
                  const sessionStart = sessionStorage.getItem('sessionStart');
                  console.log('[FormSender] Проверка наличия данных о начале сессии');
                  
                  if (!sessionStart) {
                      console.log('[FormSender] Начало сессии не найдено, создаем новую');
                      sessionStorage.setItem('sessionStart', Date.now());
                      return "Первое посещение";
                  }
                  
                  console.log('[FormSender] Расчет длительности сессии');
                  const duration = Math.floor((Date.now() - parseInt(sessionStart)) / 1000);
                  const minutes = Math.floor(duration / 60);
                  const seconds = duration % 60;
                  console.log(`[FormSender] Длительность сессии: ${minutes}м ${seconds}с`);
                  return `${minutes}м ${seconds}с`;
              } catch (e) {
                  console.log('[FormSender] Ошибка доступа к sessionStorage:', e.message);
                  return "Недоступно";
              }
          }
      
          function generateSessionId() {
              console.log('[FormSender] Генерация ID сессии');
              try {
                  let sessionId = sessionStorage.getItem('sessionId');
                  console.log('[FormSender] Проверка существующего ID сессии');
                  
                  if (!sessionId) {
                      console.log('[FormSender] ID сессии не найден, генерация нового');
                      sessionId = Math.random().toString(36).substring(2, 15) + 
                                  Math.random().toString(36).substring(2, 15);
                      sessionStorage.setItem('sessionId', sessionId);
                      console.log('[FormSender] Новый ID сессии сохранен');
                  } else {
                      console.log('[FormSender] Использован существующий ID сессии');
                  }
                  
                  return sessionId;
              } catch (e) {
                  console.log('[FormSender] Ошибка работы с sessionStorage:', e.message);
                  console.log('[FormSender] Генерация случайного ID сессии без сохранения');
                  return Math.random().toString(36).substring(2, 15);
              }
          }
      
          /**
           * Получает значение поля формы
           */
          function getFieldValue(selector) {
              console.log(`[FormSender] Получение значения поля по селектору: ${selector}`);
              const field = document.querySelector(selector);
              
              if (!field) {
                  console.log(`[FormSender] Поле не найдено по селектору: ${selector}`);
                  return '';
              }
              
              console.log(`[FormSender] Значение поля ${selector}:`, field.value.trim());
              return field.value.trim();
          }
          
          /**
           * Проверяет корректность данных формы
           */
          function validateForm(data) {
              console.log('[FormSender] Начало валидации формы');
              let isValid = true;
              
              // Проверка имени
              console.log('[FormSender] Валидация имени');
              if (!data.name) {
                  console.log('[FormSender] Имя не заполнено, отображение ошибки');
                  showFieldError(CONFIG.selectors.name, CONFIG.messages.nameRequired);
                  isValid = false;
              } else {
                  console.log('[FormSender] Имя заполнено корректно');
              }
              
              // Проверка телефона
              console.log('[FormSender] Валидация телефона');
              if (!data.phone) {
                  console.log('[FormSender] Телефон не заполнен, отображение ошибки');
                  showFieldError(CONFIG.selectors.phone, CONFIG.messages.phoneRequired);
                  isValid = false;
              } else if (!isValidPhone(data.phone)) {
                  console.log('[FormSender] Телефон имеет неверный формат, отображение ошибки');
                  showFieldError(CONFIG.selectors.phone, CONFIG.messages.phoneInvalid);
                  isValid = false;
              } else {
                  console.log('[FormSender] Телефон заполнен корректно');
              }
              
              // Проверка email, если указан
              console.log('[FormSender] Валидация email');
              if (data.email && !isValidEmail(data.email)) {
                  console.log('[FormSender] Email имеет неверный формат, отображение ошибки');
                  showFieldError(CONFIG.selectors.email, CONFIG.messages.emailInvalid);
                  isValid = false;
              } else if (data.email) {
                  console.log('[FormSender] Email заполнен корректно');
              } else {
                  console.log('[FormSender] Email не заполнен, пропускаем валидацию');
              }
              
              console.log('[FormSender] Результат валидации формы:', isValid ? 'Успешно' : 'Есть ошибки');
              return isValid;
          }
          
          /**
           * Проверяет корректность email
           */
          function isValidEmail(email) {
              console.log(`[FormSender] Проверка корректности email: ${email}`);
              const re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
              const result = re.test(String(email).toLowerCase());
              console.log(`[FormSender] Результат проверки email: ${result ? 'Валидный' : 'Невалидный'}`);
              return result;
          }
          
          /**
           * Проверяет корректность телефона
           */
          function isValidPhone(phone) {
              console.log(`[FormSender] Проверка корректности телефона: ${phone}`);
              // Удаляем все нецифровые символы
              const digits = phone.replace(/\D/g, '');
              console.log(`[FormSender] Количество цифр в телефоне: ${digits.length}`);
              // Проверяем, что осталось не менее 10 цифр
              const result = digits.length >= 10;
              console.log(`[FormSender] Результат проверки телефона: ${result ? 'Валидный' : 'Невалидный'}`);
              return result;
          }
          
          /**
           * Показывает сообщение об ошибке для поля
           */
          function showFieldError(selector, message) {
              console.log(`[FormSender] Отображение ошибки для поля ${selector}: "${message}"`);
              const field = document.querySelector(selector);
              if (!field) {
                  console.log(`[FormSender] Поле для отображения ошибки не найдено: ${selector}`);
                  return;
              }
              
              // Создаем элемент с сообщением об ошибке
              console.log('[FormSender] Создание DOM-элемента для ошибки');
              const errorDiv = document.createElement('div');
              errorDiv.className = 'field-error';
              errorDiv.textContent = message;
              errorDiv.style.color = 'red';
              errorDiv.style.fontSize = '12px';
              errorDiv.style.marginTop = '5px';
              
              // Добавляем стиль для поля с ошибкой
              console.log('[FormSender] Добавление стиля ошибки к полю');
              field.style.borderColor = 'red';
              
              // Вставляем сообщение после поля
              console.log('[FormSender] Вставка сообщения об ошибке в DOM');
              field.parentNode.insertBefore(errorDiv, field.nextSibling);
              
              // Добавляем обработчик для удаления ошибки при вводе
              console.log('[FormSender] Добавление обработчика для очистки ошибки при вводе');
              field.addEventListener('input', function() {
                  console.log(`[FormSender] Пользователь ввел данные в поле ${selector}, удаление ошибки`);
                  field.style.borderColor = '';
                  if (errorDiv.parentNode) {
                      errorDiv.parentNode.removeChild(errorDiv);
                      console.log('[FormSender] Сообщение об ошибке удалено');
                  }
              }, { once: true });
          }
          
          /**
           * Очищает все сообщения об ошибках
           */
          function clearFormErrors() {
              console.log('[FormSender] Очистка всех сообщений об ошибках');
              // Удаляем элементы с ошибками
              const errorElements = document.querySelectorAll('.field-error');
              console.log(`[FormSender] Найдено элементов с ошибками: ${errorElements.length}`);
              
              errorElements.forEach((element, index) => {
                  console.log(`[FormSender] Удаление элемента ошибки #${index}`);
                  if (element.parentNode) {
                      element.parentNode.removeChild(element);
                  }
              });
              
              // Сбрасываем стили полей с ошибками
              console.log('[FormSender] Сброс стилей полей с ошибками');
              const formFields = form.querySelectorAll('input, textarea');
              console.log(`[FormSender] Найдено полей формы: ${formFields.length}`);
              
              formFields.forEach((field, index) => {
                  console.log(`[FormSender] Сброс стиля для поля #${index}`);
                  field.style.borderColor = '';
              });
              
              console.log('[FormSender] Очистка ошибок завершена');
          }
          
          /**
           * Показывает уведомление после отправки формы
           */
          function showNotification(message, type) {
              console.log(`[FormSender] Отображение уведомления типа "${type}": "${message}"`);
              // Удаляем предыдущее уведомление, если есть
              const existingNotification = document.querySelector('.form-notification');
              if (existingNotification) {
                  console.log('[FormSender] Найдено существующее уведомление, удаляем');
                  existingNotification.remove();
              }
              
              // Создаем элемент уведомления
              console.log('[FormSender] Создание DOM-элемента уведомления');
              const notification = document.createElement('div');
              notification.className = `form-notification ${type}`;
              notification.textContent = message;
              notification.style.padding = '12px 15px';
              notification.style.marginTop = '15px';
              notification.style.borderRadius = '4px';
              notification.style.fontWeight = 'bold';
              
              // Устанавливаем стиль в зависимости от типа
              console.log(`[FormSender] Применение стилей для типа "${type}"`);
              if (type === 'success') {
                  notification.style.backgroundColor = '#d4edda';
                  notification.style.color = '#155724';
                  notification.style.border = '1px solid #c3e6cb';
              } else {
                  notification.style.backgroundColor = '#f8d7da';
                  notification.style.color = '#721c24';
                  notification.style.border = '1px solid #f5c6cb';
              }
              
              // Добавляем уведомление после формы
              console.log('[FormSender] Вставка уведомления в DOM');
              form.parentNode.insertBefore(notification, form.nextSibling);
              
              // Автоматически скрываем через 5 секунд
              console.log('[FormSender] Установка таймера для скрытия уведомления (5 секунд)');
              setTimeout(() => {
                  console.log('[FormSender] Таймер сработал, начинаем анимацию скрытия');
                  notification.style.opacity = '0';
                  notification.style.transition = 'opacity 0.5s';
                  
                  setTimeout(() => {
                      console.log('[FormSender] Анимация завершена, удаляем элемент уведомления');
                      if (notification.parentNode) {
                          notification.parentNode.removeChild(notification);
                      }
                  }, 500);
              }, 5000);
          }
          
          /**
           * Экранирует HTML-символы
           */
          function escapeHtml(text) {
              console.log('[FormSender] Экранирование HTML-символов');
              if (!text) {
                  console.log('[FormSender] Текст пустой, возвращаем пустую строку');
                  return '';
              }
              
              const escaped = text
                  .replace(/&/g, "&amp;")
                  .replace(/</g, "&lt;")
                  .replace(/>/g, "&gt;")
                  .replace(/"/g, "&quot;")
                  .replace(/'/g, "&#039;");
                  
              console.log('[FormSender] Текст успешно экранирован');
              return escaped;
          }
          
          console.log('[FormSender] Инициализация скрипта завершена');
      });
      
         </script>
      
      
        <!-- Скрипт для работы с UTM-метками -->
        <script>
          (function() {
              // Настройка продвинутого логирования
              const logger = {
                  styles: {
                      info: 'color: #2196F3; font-weight: bold; padding: 2px 5px; border-radius: 3px; background: #e3f2fd;',
                      success: 'color: #4CAF50; font-weight: bold; padding: 2px 5px; border-radius: 3px; background: #e8f5e9;',
                      warning: 'color: #FF9800; font-weight: bold; padding: 2px 5px; border-radius: 3px; background: #fff3e0;',
                      error: 'color: #F44336; font-weight: bold; padding: 2px 5px; border-radius: 3px; background: #ffebee;',
                      group: 'color: #673AB7; font-weight: bold; padding: 2px 5px; border-radius: 3px; background: #ede7f6;'
                  },
                  timestamp() {
                      const now = new Date();
                      return `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}.${now.getMilliseconds().toString().padStart(3, '0')}`;
                  },
                  info(message, data) {
                      console.log(`%c[ИНФО ${this.timestamp()}] ${message}`, this.styles.info, data ? data : '');
                  },
                  success(message, data) {
                      console.log(`%c[УСПЕХ ${this.timestamp()}] ${message}`, this.styles.success, data ? data : '');
                  },
                  warning(message, data) {
                      console.log(`%c[ВНИМАНИЕ ${this.timestamp()}] ${message}`, this.styles.warning, data ? data : '');
                  },
                  error(message, data) {
                      console.error(`%c[ОШИБКА ${this.timestamp()}] ${message}`, this.styles.error, data ? data : '');
                  },
                  groupStart(title) {
                      console.group(`%c[ГРУППА ${this.timestamp()}] ${title}`, this.styles.group);
                  },
                  groupEnd() {
                      console.groupEnd();
                  },
                  table(data, title = 'Таблица данных') {
                      this.info(title);
                      console.table(data);
                  }
              };
          
              // Функция для получения и сохранения UTM-параметров
              function saveUtmParams() {
                  logger.groupStart('Сохранение UTM-параметров');
                  
                  // Получаем текущие параметры URL
                  const urlParams = new URLSearchParams(window.location.search);
                  const utmParams = new URLSearchParams();
                  const utmTags = ['utm_source', 'utm_medium', 'utm_campaign', 'utm_term', 'utm_content'];
                  
                  // Проверяем наличие UTM-параметров
                  let hasUtm = false;
                  let foundParams = {};
                  
                  utmTags.forEach(tag => {
                      if (urlParams.has(tag)) {
                          hasUtm = true;
                          const value = urlParams.get(tag);
                          utmParams.set(tag, value);
                          foundParams[tag] = value;
                      }
                  });
                  
                  if (hasUtm) {
                      try {
                          // Сохраняем UTM-параметры в localStorage
                          localStorage.setItem('utm_params', utmParams.toString());
                          localStorage.setItem('utm_timestamp', Date.now());
                          logger.success('UTM-параметры сохранены в localStorage', foundParams);
                      } catch (error) {
                          logger.error('Невозможно сохранить UTM-параметры в localStorage', {
                              причина: error.message,
                              стек: error.stack
                          });
                      }
                  } else {
                      logger.info('UTM-параметры не обнаружены в URL');
                  }
                  
                  logger.groupEnd();
              }
              
              // Функция для проверки актуальности UTM-параметров (30 дней)
              function checkUtmExpiration() {
                  logger.groupStart('Проверка срока действия UTM-параметров');
                  
                  const timestamp = localStorage.getItem('utm_timestamp');
                  if (timestamp) {
                      const expirationDays = 30;
                      const expirationMs = expirationDays * 24 * 60 * 60 * 1000;
                      const now = Date.now();
                      const savedTime = parseInt(timestamp);
                      const ageMs = now - savedTime;
                      const ageDays = Math.floor(ageMs / (24 * 60 * 60 * 1000));
                      
                      logger.info('Данные о возрасте UTM-параметров', {
                          сохранено: new Date(savedTime).toLocaleString(),
                          текущее_время: new Date(now).toLocaleString(),
                          возраст_дней: ageDays,
                          срок_действия_дней: expirationDays
                      });
                      
                      if (ageMs > expirationMs) {
                          localStorage.removeItem('utm_params');
                          localStorage.removeItem('utm_timestamp');
                          logger.warning(`UTM-параметры устарели (${ageDays} дней) и были удалены`);
                          return false;
                      }
                      
                      logger.success(`UTM-параметры актуальны (${ageDays} из ${expirationDays} дней)`);
                      return true;
                  }
                  
                  logger.info('UTM-параметры не найдены в localStorage');
                  logger.groupEnd();
                  return false;
              }
              
              // Функция для добавления UTM-параметров ко всем внутренним ссылкам
              function addUtmToLinks() {
                  logger.groupStart('Добавление UTM-параметров к ссылкам');
                  
                  const storedParams = localStorage.getItem('utm_params');
                  
                  if (storedParams) {
                      const links = document.querySelectorAll('a[href]');
                      const params = new URLSearchParams(storedParams);
                      let utmData = {};
                      
                      params.forEach((value, key) => {
                          utmData[key] = value;
                      });
                      
                      logger.info(`Найдено ${links.length} ссылок на странице`, {
                          применяемые_параметры: utmData
                      });
                      
                      let modifiedCount = 0;
                      let skippedCount = 0;
                      let errorCount = 0;
                      
                      links.forEach(function(link, index) {
                          try {
                              // Проверяем, что ссылка валидная
                              if (link.href.startsWith('http') || link.href.startsWith('/')) {
                                  const url = new URL(link.href, window.location.origin);
                                  
                                  // Проверяем, что ссылка ведет на тот же домен
                                  if (url.hostname === window.location.hostname) {
                                      // Запоминаем оригинальную ссылку для лога
                                      const originalUrl = url.toString();
                                      
                                      // Добавляем UTM-параметры к ссылке
                                      params.forEach((value, key) => {
                                          url.searchParams.set(key, value);
                                      });
                                      
                                      // Обновляем ссылку
                                      link.href = url.toString();
                                      
                                      modifiedCount++;
                                      logger.info(`Ссылка #${index + 1} модифицирована`, {
                                          было: originalUrl,
                                          стало: url.toString(),
                                          текст_ссылки: link.textContent?.trim() || '[без текста]'
                                      });
                                  } else {
                                      skippedCount++;
                                      logger.info(`Ссылка #${index + 1} пропущена (внешний домен)`, {
                                          ссылка: link.href,
                                          домен: url.hostname
                                      });
                                  }
                              } else {
                                  skippedCount++;
                                  logger.info(`Ссылка #${index + 1} пропущена (специальный формат)`, {
                                      ссылка: link.href
                                  });
                              }
                          } catch (error) {
                              errorCount++;
                              logger.error(`Ошибка обработки ссылки #${index + 1}`, {
                                  ссылка: link.href || '[неизвестно]',
                                  ошибка: error.message
                              });
                          }
                      });
                      
                      logger.success('Обработка ссылок завершена', {
                          всего_ссылок: links.length,
                          модифицировано: modifiedCount,
                          пропущено: skippedCount,
                          ошибок: errorCount
                      });
                  } else {
                      logger.warning('UTM-параметры не найдены в localStorage, ссылки не модифицированы');
                  }
                  
                  logger.groupEnd();
              }
              
              // Функция для добавления UTM-параметров в формы
              function addUtmToForms() {
                  logger.groupStart('Добавление UTM-параметров к формам');
                  
                  const storedParams = localStorage.getItem('utm_params');
                  
                  if (storedParams) {
                      const forms = document.querySelectorAll('form');
                      const params = new URLSearchParams(storedParams);
                      let utmData = {};
                      
                      params.forEach((value, key) => {
                          utmData[key] = value;
                      });
                      
                      logger.info(`Найдено ${forms.length} форм на странице`, {
                          применяемые_параметры: utmData
                      });
                      
                      forms.forEach(function(form, formIndex) {
                          logger.info(`Обработка формы #${formIndex + 1}`, {
                              id: form.id || '[без id]',
                              action: form.action || '[без action]',
                              method: form.method || 'get'
                          });
                          
                          let fieldsAdded = 0;
                          let fieldsUpdated = 0;
                          
                          // Создаем скрытые поля для каждого UTM-параметра
                          params.forEach((value, key) => {
                              // Проверяем, существует ли уже такое поле
                              let input = form.querySelector(`input[name="${key}"]`);
                              
                              if (!input) {
                                  // Создаем новое скрытое поле
                                  input = document.createElement('input');
                                  input.type = 'hidden';
                                  input.name = key;
                                  form.appendChild(input);
                                  fieldsAdded++;
                                  logger.info(`Добавлено скрытое поле "${key}" со значением "${value}"`);
                              } else {
                                  fieldsUpdated++;
                                  logger.info(`Обновлено существующее поле "${key}" со значением "${value}"`);
                              }
                              
                              // Устанавливаем значение
                              input.value = value;
                          });
                          
                          logger.success(`Форма #${formIndex + 1} обработана`, {
                              добавлено_полей: fieldsAdded,
                              обновлено_полей: fieldsUpdated
                          });
                      });
                  } else {
                      logger.warning('UTM-параметры не найдены в localStorage, формы не модифицированы');
                  }
                  
                  logger.groupEnd();
              }
              
              // Функция для добавления UTM-параметров в тело сообщения для Telegram-бота
              function addUtmToTelegramForm() {
                  logger.groupStart('Специальная обработка формы для Telegram');
                  
                  const telegramForm = document.getElementById('telegramForm');
                  const storedParams = localStorage.getItem('utm_params');
                  
                  if (telegramForm && storedParams) {
                      logger.info('Форма для Telegram найдена', {
                          id: telegramForm.id,
                          action: telegramForm.action || '[без action]',
                          method: telegramForm.method || 'get'
                      });
                      
                      // Получаем UTM-параметры для лога
                      const params = new URLSearchParams(storedParams);
                      let utmData = {};
                      params.forEach((value, key) => {
                          utmData[key] = value;
                      });
                      logger.info('UTM-параметры для вставки в сообщение', utmData);
                      
                      // Сохраняем оригинальный обработчик отправки формы
                      const originalSubmitHandler = telegramForm.onsubmit;
                      logger.info('Оригинальный обработчик onsubmit', {
                          существует: typeof originalSubmitHandler === 'function'
                      });
                      
                      // Заменяем обработчик отправки
                      telegramForm.onsubmit = function(e) {
                          logger.info('Сработал обработчик отправки формы для Telegram');
                          
                          if (typeof originalSubmitHandler === 'function') {
                              // Вызываем оригинальный обработчик, если он есть
                              logger.info('Вызов оригинального обработчика');
                              const result = originalSubmitHandler.call(this, e);
                              
                              if (result === false) {
                                  logger.warning('Оригинальный обработчик вернул false, прерываем отправку');
                                  return false;
                              }
                          }
                          
                          // Получаем UTM-параметры
                          const utmParams = new URLSearchParams(storedParams);
                          let utmString = '';
                          
                          utmParams.forEach((value, key) => {
                              utmString += `\n${key}: ${value}`;
                          });
                          
                          // Добавляем UTM-информацию в сообщение Telegram
                          const messageField = document.getElementById('userMessage');
                          if (messageField && utmString) {
                              const originalMessage = messageField.value;
                              messageField.value = originalMessage + '\n\n--- UTM Данные ---' + utmString;
                              
                              logger.success('UTM-данные добавлены в текст сообщения', {
                                  было_символов: originalMessage.length,
                                  стало_символов: messageField.value.length,
                                  утм_данные: utmString
                              });
                          } else {
                              logger.warning('Поле сообщения не найдено или UTM-данные отсутствуют', {
                                  поле_сообщения_найдено: !!messageField,
                                  utm_строка: utmString
                              });
                          }
                          
                          logger.info('Продолжение стандартной отправки формы');
                          return true;
                      };
                      
                      logger.success('Обработчик формы Telegram успешно модифицирован');
                  } else {
                      if (!telegramForm) {
                          logger.warning('Форма для Telegram не найдена (#telegramForm)');
                      }
                      
                      if (!storedParams) {
                          logger.warning('UTM-параметры не найдены в localStorage');
                      }
                  }
                  
                  logger.groupEnd();
              }
              
              // Функция инициализации
              function init() {
                  logger.groupStart('Инициализация UTM-трекера');
                  logger.info('Запуск системы отслеживания UTM-параметров', {
                      время: new Date().toLocaleString(),
                      url: window.location.href,
                      referrer: document.referrer || '[прямой переход]'
                  });
                  
                  // Сохраняем UTM-параметры, если они есть в URL
                  saveUtmParams();
                  
                  // Проверяем срок действия сохраненных UTM-параметров
                  const utmValid = checkUtmExpiration();
                  
                  if (utmValid) {
                      logger.info('UTM-параметры валидны, начинаем применение');
                      
                      // Добавляем UTM-параметры ко всем ссылкам на странице
                      addUtmToLinks();
                      
                      // Добавляем UTM-параметры ко всем формам
                      addUtmToForms();
                      
                      // Специальная обработка для формы отправки в Telegram
                      addUtmToTelegramForm();
                      
                      logger.success('Все UTM-параметры успешно применены');
                  } else {
                      logger.warning('UTM-параметры отсутствуют или устарели, модификация не выполнена');
                  }
                  
                  logger.groupEnd();
              }
              
              // Запускаем инициализацию при загрузке страницы
              if (document.readyState === 'loading') {
                  logger.info('Документ загружается, ожидаем событие DOMContentLoaded');
                  document.addEventListener('DOMContentLoaded', init);
              } else {
                  logger.info('Документ уже загружен, запускаем инициализацию немедленно');
                  init();
              }
              
              // Добавляем перехват динамически добавляемых форм и ссылок
              logger.info('Настройка MutationObserver для отслеживания изменений DOM');
              
              const observer = new MutationObserver(function(mutations) {
                  let addedNodes = 0;
                  
                  mutations.forEach(function(mutation) {
                      if (mutation.addedNodes && mutation.addedNodes.length > 0) {
                          addedNodes += mutation.addedNodes.length;
                      }
                  });
                  
                  if (addedNodes > 0) {
                      logger.info(`Обнаружено ${addedNodes} новых узлов DOM, запуск обновления UTM-параметров`);
                      
                      setTimeout(function() {
                          logger.groupStart('Обновление UTM-параметров для динамического контента');
                          addUtmToLinks();
                          addUtmToForms();
                          addUtmToTelegramForm();
                          logger.groupEnd();
                      }, 100);
                  }
              });
              
              // Запускаем наблюдение за изменениями в DOM
              observer.observe(document.body, { childList: true, subtree: true });
              logger.success('MutationObserver успешно запущен для отслеживания изменений в DOM');
          })();
          </script>
          
        
      
      <!-- ============================================= -->
      <!-- FOOTER SECTION (SEO OPTIMIZED)                -->
      <!-- ============================================= -->
      <footer class="site-footer" itemscope itemtype="http://schema.org/Organization">
          <div class="footer-widgets">
              <div class="container">
                  <div class="row">
                      
                      <!-- ========== БЛОК О КОМПАНИИ ========== -->
                      <div class="col-lg-4 col-md-6">
                          <div class="footer-widget about-widget">
                              <div class="footer-logo" itemprop="logo">
                                  <img src="assets/templates/img/logo.png" 
                                       alt="GigSys - IT аутсорсинг и поддержка бизнеса" 
                                       width="180" 
                                       height="50"
                                       loading="lazy">
                              </div>
                              <p itemprop="description">Комплексное ИТ-обслуживание для бизнеса любого масштаба. 
                              Предоставляем полный спектр услуг по внедрению и поддержке ИТ-инфраструктуры.</p>
                              
                              <!-- СОЦИАЛЬНЫЕ СЕТИ С MICRODATA -->
                              <div class="footer-social" aria-label="Социальные сети">
                                  <a href="https://t.me/GigSys" itemprop="sameAs" aria-label="Telegram">
                                      <i class="fab fa-telegram"></i>
                                  </a>
                                  <a href="https://vk.com/gigsys" itemprop="sameAs" aria-label="ВКонтакте">
                                      <i class="fab fa-vk"></i>
                                  </a>
                                  <a href="https://wa.me/79255853075" itemprop="sameAs" aria-label="WhatsApp">
                                      <i class="fab fa-whatsapp"></i>
                                  </a>
                                  <a href="mailto:it@gigsys.ru" itemprop="sameAs" aria-label="Email">
                                      <i class="fas fa-envelope"></i>
                                  </a>
                              </div>
                          </div>
                      </div>
      
                      <!-- ========== НАВИГАЦИОННЫЕ ССЫЛКИ ========== -->
                      <div class="col-lg-2 col-md-6">
                          <nav class="footer-widget links-widget" aria-label="Дополнительная навигация">
                              <h4 class="widget-title">Компания</h4>
                              <ul>
                                  <li><a href="index.html" itemprop="url">Главная</a></li>
                                  <li><a href="o-kompanii.html">О компании</a></li>
                                  <li><a href="novosti/index.html">Новости</a></li>
                                  <li><a href="kontaktyi.html">Контакты</a></li>
                              </ul>
                          </nav>
                      </div>
      
                      <!-- ========== СПИСОК УСЛУГ ========== -->
                      <div class="col-lg-3 col-md-6">
                          <div class="footer-widget services-widget">
                              <h4 class="widget-title">Услуги</h4>
                              <ul>
                                  <li><a href="it-support.html">IT-поддержка</a></li>
                                  <li><a href="it-autsorsing.html">IT-аутсорсинг</a></li>
                                  <li><a href="virtual-office.html">Защищенный офис</a></li>
                                  <li><a href="obsluzhivanie-serverov.html">Серверы</a></li>
                              </ul>
                          </div>
                      </div>
      
                      <!-- ========== КОНТАКТЫ С MICRODATA ========== -->
                      <div class="col-lg-3 col-md-6">
                          <div class="footer-widget contact-widget" itemprop="address" itemscope itemtype="http://schema.org/PostalAddress">
                              <h4 class="widget-title">Контакты</h4>
                              <ul class="contact-list">
                                  <li>
                                      <i class="fa fa-map-marker-alt"></i>
                                      <span itemprop="streetAddress">Ракетный бульвар, д.15, оф.31</span>, 
                                      <span itemprop="addressLocality">Москва</span>
                                  </li>
                                  <li>
                                      <i class="fas fa-phone-alt"></i>
                                      <a href="tel:88003501160" itemprop="telephone">8(499)350-11-60</a>
                                  </li>
                                  <li>
                                      <i class="fa fa-envelope"></i>
                                      <a href="mailto:it@gigsys.ru" itemprop="email">it@gigsys.ru</a>
                                  </li>
                                  <li>
                                      <i class="fa fa-clock"></i>
                                      <span itemprop="openingHours">Пн-Пт: 9:00 - 18:00</span>
                                  </li>
                              </ul>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      
          <!-- ========== КОПИРАЙТ И ЮРИДИЧЕСКИЕ ССЫЛКИ ========== -->
          <div class="footer-bottom">
              <div class="container">
                  <div class="row align-items-center">
                      <div class="col-lg-6">
                          <div class="copyright">
                              <p>&copy; <span itemprop="copyrightYear">2025</span> 
                              <span itemprop="name">GigSys IT-solutions</span>. Все права защищены</p>
                          </div>
                      </div>
                      <div class="col-lg-6">
                          <nav class="footer-bottom-links text-lg-right" aria-label="Юридическая информация">
                              <a href="privacy-policy.html">Политика конфиденциальности</a>
                              <a href="terms.html">Пользовательское соглашение</a>
                          </nav>
                      </div>
                  </div>
              </div>
          </div>
      </footer>
      
      <!-- ========== КНОПКА "НАВЕРХ" ========== -->
      <a href="#" class="back-to-top" aria-label="Вернуться к началу страницы">
          <i class="fa fa-angle-up"></i>
      </a>
      
      
          <!-- ============================================= -->
          <!-- MODALS AND POPUPS                             -->
          <!-- ============================================= -->
           <!-- Всплывающий баннер для анкеты -->
      
      
          <!-- Упрощенное модальное окно -->
          <div class="simple-modal-overlay" id="simple-modal-overlay"></div>
      
          <!-- Модальное окно обратного звонка с минимальной структурой -->
          <div class="simple-modal" id="simple-callback">
              <div class="simple-modal-content">
                  <!-- Кнопка закрытия -->
                  <button class="simple-modal-close" onclick="closeSimpleModal()" aria-label="Закрыть">×</button>
                  
                  <!-- Заголовок -->
                  <div class="simple-modal-header">
                      <div class="simple-modal-icon">
                          <i class="fa fa-headset"></i>
                      </div>
                      <h3>ЗАКАЗАТЬ ЗВОНОК</h3>
                      <p>Оставьте свои контактные данные, и мы свяжемся с вами в ближайшее время</p>
                  </div>
                  
                  <!-- Форма -->
                  <form id="simple-callback-form" onsubmit="event.preventDefault(); submitSimpleForm(this);">
                      <input type="hidden" name="project_name" value="GigSys.ru">
                      <input type="hidden" name="admin_email" value="it@gigsys.ru">
                      <input type="hidden" name="form_subject" value="Форма - Заказать звонок">
                      
                      <!-- Имя -->
                      <div class="simple-form-group">
                          <div class="simple-input-wrapper">
                              <i class="fa fa-user simple-input-icon"></i>
                              <input 
                                  type="text" 
                                  name="Имя" 
                                  placeholder="Ваше имя" 
                                  required 
                                  aria-label="Имя"
                              >
                          </div>
                      </div>
                      
                      <!-- Телефон -->
                      <div class="simple-form-group">
                          <div class="simple-input-wrapper">
                              <i class="fa fa-phone simple-input-icon"></i>
                              <input 
                                  type="tel" 
                                  name="Телефон" 
                                  placeholder="Номер телефона" 
                                  required 
                                  aria-label="Телефон"
                              >
                          </div>
                      </div>
                      
                      <!-- Email -->
                      <div class="simple-form-group">
                          <div class="simple-input-wrapper">
                              <i class="fa fa-envelope simple-input-icon"></i>
                              <input 
                                  type="email" 
                                  name="Email" 
                                  placeholder="Ваш e-mail" 
                                  required 
                                  aria-label="Email"
                              >
                          </div>
                      </div>
                      
                      <!-- Сообщение -->
                      <div class="simple-form-group">
                          <div class="simple-input-wrapper">
                              <i class="fa fa-comment simple-input-icon"></i>
                              <textarea 
                                  name="Комментарий" 
                                  placeholder="Ваш комментарий" 
                                  rows="3"
                                  aria-label="Комментарий"
                              ></textarea>
                          </div>
                      </div>
                      
                      <!-- Согласие -->
                      <div class="simple-form-group">
                          <label class="simple-checkbox">
                              <input 
                                  type="checkbox" 
                                  required 
                                  aria-label="Согласие на обработку данных"
                              >
                              <span class="simple-checkbox-text">Согласен на обработку персональных данных</span>
                          </label>
                      </div>
                      
                      <!-- Кнопка отправки -->
                      <div class="simple-form-group">
                          <button 
                              type="submit" 
                              class="simple-submit-button"
                          >
                              <span>Отправить</span>
                              <i class="fa fa-paper-plane"></i>
                          </button>
                      </div>
                  </form>
              </div>
          </div>
      
          <!-- Модальное окно успешной отправки -->
          <div class="simple-modal" id="simple-success">
              <div class="simple-modal-content">
                  <button class="simple-modal-close" onclick="closeSimpleModal()" aria-label="Закрыть">×</button>
                  
                  <div class="simple-success-icon">
                      <i class="fa fa-check"></i>
                  </div>
                  
                  <h3>Спасибо за заявку</h3>
                  <p>Ожидайте нашего звонка в ближайшее время</p>
                  
                  <button 
                      onclick="closeSimpleModal()" 
                      class="simple-submit-button"
                  >
                      <span>Закрыть</span>
                  </button>
              </div>
          </div>
      
          <script>
              // Настраиваем систему логирования
              const Logger = {
                  styles: {
                      info: 'color: #0066cc; background: #e6f2ff; padding: 2px 4px; border-radius: 2px; font-weight: bold;',
                      success: 'color: #008800; background: #e6ffe6; padding: 2px 4px; border-radius: 2px; font-weight: bold;',
                      warning: 'color: #cc7700; background: #fff2cc; padding: 2px 4px; border-radius: 2px; font-weight: bold;',
                      error: 'color: #cc0000; background: #ffe6e6; padding: 2px 4px; border-radius: 2px; font-weight: bold;',
                      event: 'color: #6600cc; background: #f2e6ff; padding: 2px 4px; border-radius: 2px; font-weight: bold;',
                      modal: 'color: #007777; background: #e6ffff; padding: 2px 4px; border-radius: 2px; font-weight: bold;',
                      network: 'color: #cc00cc; background: #ffe6ff; padding: 2px 4px; border-radius: 2px; font-weight: bold;'
                  },
                  getTime() {
                      const now = new Date();
                      return `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}.${now.getMilliseconds().toString().padStart(3, '0')}`;
                  },
                  info(message, data) {
                      console.log(`%c[ИНФО ${this.getTime()}] ${message}`, this.styles.info, data || '');
                  },
                  success(message, data) {
                      console.log(`%c[УСПЕХ ${this.getTime()}] ${message}`, this.styles.success, data || '');
                  },
                  warning(message, data) {
                      console.log(`%c[ПРЕДУПРЕЖДЕНИЕ ${this.getTime()}] ${message}`, this.styles.warning, data || '');
                  },
                  error(message, data) {
                      console.error(`%c[ОШИБКА ${this.getTime()}] ${message}`, this.styles.error, data || '');
                  },
                  event(message, data) {
                      console.log(`%c[СОБЫТИЕ ${this.getTime()}] ${message}`, this.styles.event, data || '');
                  },
                  modal(message, data) {
                      console.log(`%c[МОДАЛ ${this.getTime()}] ${message}`, this.styles.modal, data || '');
                  },
                  network(message, data) {
                      console.log(`%c[СЕТЬ ${this.getTime()}] ${message}`, this.styles.network, data || '');
                  },
                  groupStart(title) {
                      console.group(`%c[ГРУППА ${this.getTime()}] ${title}`, this.styles.info);
                  },
                  groupEnd() {
                      console.groupEnd();
                  }
              };
              
              // Дожидаемся полной загрузки DOM
              Logger.info('Скрипт формы обратного звонка инициализирован');
              document.addEventListener('DOMContentLoaded', function() {
                  Logger.event('Событие DOMContentLoaded активировано');
                  Logger.groupStart('Инициализация формы обратного звонка');
                  
                  // Находим форму по ID
                  Logger.info('Поиск формы по ID "simple-callback-form"');
                  const form = document.getElementById('simple-callback-form');
                  
                  if (form) {
                      Logger.success('Форма успешно найдена', {
                          id: form.id,
                          classes: form.className,
                          элементов: form.elements ? form.elements.length : 'не определено'
                      });
                      
                      // Добавляем обработчик события submit для формы
                      Logger.info('Добавление обработчика submit к форме');
                      form.addEventListener('submit', function(e) {
                          Logger.event('Событие отправки формы активировано');
                          e.preventDefault();
                          Logger.info('Стандартная отправка формы предотвращена');
                          
                          Logger.groupStart('Обработка данных формы');
                          
                          // Получаем значения полей формы
                          Logger.info('Получение значений полей формы');
                          
                          const nameField = this.querySelector('input[name="Имя"]');
                          const emailField = this.querySelector('input[name="Email"]');
                          const phoneField = this.querySelector('input[name="Телефон"]');
                          const messageField = this.querySelector('textarea[name="Комментарий"]');
                          
                          // Проверяем наличие полей
                          if (!nameField || !phoneField) {
                              Logger.error('Обязательные поля формы не найдены', {
                                  nameField: !!nameField,
                                  phoneField: !!phoneField
                              });
                              alert('Ошибка структуры формы: не найдены обязательные поля');
                              return;
                          }
                          
                          const name = nameField.value.trim();
                          const email = emailField ? emailField.value.trim() : '';
                          const phone = phoneField.value.trim();
                          const message = messageField ? messageField.value.trim() : '';
                          
                          Logger.info('Получены данные формы', {
                              имя: name || '[пусто]',
                              email: email || '[пусто]',
                              телефон: phone || '[пусто]',
                              сообщение: message ? (message.length > 30 ? message.substring(0, 30) + '...' : message) : '[пусто]'
                          });
                          
                          // Проверка заполнения обязательных полей
                          if (!name || !phone) {
                              Logger.warning('Не заполнены обязательные поля', {
                                  имя: !!name,
                                  телефон: !!phone
                              });
                              alert('Пожалуйста, заполните обязательные поля (имя и телефон)');
                              return;
                          }
                          
                          Logger.success('Валидация формы пройдена успешно');
                          
                          // Формируем текст сообщения для Telegram
                          Logger.info('Формирование текста сообщения для Telegram');
                          const telegramMessage = `🔔 Заказ звонка с сайта!\n\n👤 Имя: ${name}\n📧 Email: ${email || 'Не указан'}\n📞 Телефон: ${phone}\n\n💬 Комментарий: ${message || 'Без комментария'}`;
                          
                          Logger.info('Сообщение сформировано', {
                              длина: telegramMessage.length,
                              содержание: telegramMessage.substring(0, 100) + (telegramMessage.length > 100 ? '...' : '')
                          });
                          
                          // Токен бота и ID чата
                          const botToken = '7813140158:AAHm1-JG4KDjHTb83zNieLAyqy8-MEu6FwY';
                          const chatId = '-1001940374630';
                          
                          Logger.info('Используемые учетные данные Telegram', {
                              botToken: botToken.substring(0, 5) + '...' + botToken.substring(botToken.length - 5),
                              chatId
                          });
                          
                          // Изменяем состояние кнопки на время отправки
                          Logger.info('Изменение состояния кнопки отправки');
                          const submitButton = this.querySelector('.simple-submit-button');
                          
                          if (!submitButton) {
                              Logger.warning('Кнопка отправки не найдена по селектору .simple-submit-button');
                          } else {
                              const originalButtonText = submitButton.innerHTML;
                              Logger.info('Оригинальный текст кнопки сохранен', { текст: originalButtonText });
                              
                              Logger.info('Блокировка кнопки отправки и изменение текста');
                              submitButton.disabled = true;
                              submitButton.innerHTML = '<span>Отправка...</span><i class="fa fa-spinner fa-spin"></i>';
                          }
                          
                          Logger.groupEnd(); // Закрываем группу обработки данных формы
                          
                          // Отправляем сообщение в Telegram через API
                          Logger.groupStart('Отправка запроса в Telegram');
                          
                          Logger.network('Подготовка запроса к Telegram API', {
                              url: `https://api.telegram.org/bot${botToken.substring(0, 5)}***/sendMessage`,
                              метод: 'POST',
                              тип_данных: 'application/json'
                          });
                          
                          const startTime = performance.now();
                          
                          fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                              method: 'POST',
                              headers: {
                                  'Content-Type': 'application/json'
                              },
                              body: JSON.stringify({
                                  chat_id: chatId,
                                  text: telegramMessage
                              })
                          })
                          .then(response => {
                              const endTime = performance.now();
                              const requestTime = (endTime - startTime).toFixed(2);
                              
                              Logger.network(`Получен ответ от сервера (${requestTime} мс)`, {
                                  статус: response.status,
                                  статус_текст: response.statusText,
                                  ok: response.ok
                              });
                              
                              if (!response.ok) {
                                  Logger.warning('Получен неуспешный HTTP-статус, обработка ответа');
                                  return response.json().then(errorData => {
                                      Logger.error('Детали ошибки Telegram API', errorData);
                                      throw new Error(`Ошибка HTTP: ${response.status}, Описание: ${errorData.description || 'Неизвестная ошибка'}`);
                                  });
                              }
                              
                              Logger.success('Успешный HTTP-статус, парсинг JSON-ответа');
                              return response.json();
                          })
                          .then(data => {
                              Logger.success('Успешный разбор JSON-ответа', data);
                              
                              if (data.ok) {
                                  Logger.success('Сообщение успешно отправлено в Telegram', {
                                      message_id: data.result?.message_id,
                                      chat_id: data.result?.chat?.id
                                  });
                                  
                                  // Успешная отправка
                                  alert('Сообщение успешно отправлено! Мы свяжемся с вами в ближайшее время.');
                                  
                                  Logger.info('Сброс формы');
                                  form.reset();
                                  
                                  Logger.modal('Закрытие модального окна после успешной отправки');
                                  closeSimpleModal(); // Закрываем модальное окно после успешной отправки
                              } else {
                                  Logger.error('API вернул ошибку в JSON-ответе', data);
                                  throw new Error('Ошибка бота Telegram: ' + (data.description || 'Неизвестная ошибка'));
                              }
                          })
                          .catch(error => {
                              Logger.error(`Произошла ошибка при отправке: ${error.message}`, {
                                  стек: error.stack
                              });
                              
                              alert('Произошла ошибка при отправке сообщения. Пожалуйста, попробуйте позже или свяжитесь с нами другим способом.');
                          })
                          .finally(() => {
                              Logger.info('Завершение отправки (блок finally)');
                              
                              // Восстанавливаем кнопку в любом случае
                              if (submitButton) {
                                  Logger.info('Восстановление состояния кнопки отправки');
                                  submitButton.disabled = false;
                                  submitButton.innerHTML = originalButtonText;
                              }
                              
                              Logger.groupEnd(); // Закрываем группу отправки запроса
                          });
                      });
                      
                      Logger.success('Обработчик отправки формы успешно настроен');
                  } else {
                      Logger.error('Форма с ID "simple-callback-form" не найдена на странице');
                  }
                  
                  Logger.groupEnd(); // Закрываем группу инициализации формы
              });
              
              // Функции для работы с модальным окном
              function closeSimpleModal() {
                  Logger.modal('Вызвана функция закрытия модального окна');
                  
                  const modal = document.getElementById('simple-callback');
                  const overlay = document.getElementById('simple-modal-overlay');
                  
                  Logger.modal('Поиск элементов модального окна', {
                      modal: !!modal,
                      overlay: !!overlay
                  });
                  
                  if (modal) {
                      Logger.modal('Скрытие модального окна');
                      modal.style.display = 'none';
                  } else {
                      Logger.error('Элемент модального окна не найден (#simple-callback)');
                  }
                  
                  if (overlay) {
                      Logger.modal('Скрытие оверлея модального окна');
                      overlay.style.display = 'none';
                  } else {
                      Logger.error('Элемент оверлея не найден (#simple-modal-overlay)');
                  }
                  
                  Logger.modal('Модальное окно закрыто');
              }
              
              function openSimpleModal() {
                  Logger.modal('Вызвана функция открытия модального окна');
                  
                  const modal = document.getElementById('simple-callback');
                  const overlay = document.getElementById('simple-modal-overlay');
                  
                  Logger.modal('Поиск элементов модального окна', {
                      modal: !!modal,
                      overlay: !!overlay
                  });
                  
                  if (modal) {
                      Logger.modal('Отображение модального окна');
                      modal.style.display = 'block';
                  } else {
                      Logger.error('Элемент модального окна не найден (#simple-callback)');
                  }
                  
                  if (overlay) {
                      Logger.modal('Отображение оверлея модального окна');
                      overlay.style.display = 'block';
                  } else {
                      Logger.error('Элемент оверлея не найден (#simple-modal-overlay)');
                  }
                  
                  Logger.modal('Модальное окно открыто');
              }
              
              // Поиск и настройка всех кнопок, которые открывают модальное окно
              document.addEventListener('DOMContentLoaded', function() {
                  Logger.groupStart('Настройка кнопок открытия модального окна');
                  
                  const modalTriggers = document.querySelectorAll('[data-modal="simple-callback"]');
                  Logger.info(`Найдено ${modalTriggers.length} триггеров модального окна`);
                  
                  modalTriggers.forEach((trigger, index) => {
                      Logger.info(`Настройка триггера #${index + 1}`, {
                          элемент: trigger.tagName,
                          классы: trigger.className,
                          текст: trigger.textContent?.trim() || '[без текста]'
                      });
                      
                      trigger.addEventListener('click', function(e) {
                          Logger.event(`Нажата кнопка открытия модального окна #${index + 1}`);
                          e.preventDefault();
                          openSimpleModal();
                      });
                  });
                  
                  // Настройка закрытия модального окна при клике на оверлей
                  const overlay = document.getElementById('simple-modal-overlay');
                  if (overlay) {
                      Logger.info('Настройка закрытия модального окна при клике на оверлей');
                      
                      overlay.addEventListener('click', function(e) {
                          if (e.target === overlay) {
                              Logger.event('Зафиксирован клик по оверлею, закрытие модального окна');
                              closeSimpleModal();
                          }
                      });
                  }
                  
                  // Настройка закрытия модального окна по Escape
                  Logger.info('Настройка закрытия модального окна по клавише Escape');
                  document.addEventListener('keydown', function(e) {
                      if (e.key === 'Escape') {
                          const modal = document.getElementById('simple-callback');
                          if (modal && modal.style.display === 'block') {
                              Logger.event('Нажата клавиша Escape, закрытие модального окна');
                              closeSimpleModal();
                          }
                      }
                  });
                  
                  Logger.groupEnd(); // Закрываем группу настройки кнопок
              });
              </script>
              
          
         
          <!-- ============================================= -->
          <!-- SCRIPTS С УЛУЧШЕННОЙ ПРОИЗВОДИТЕЛЬНОСТЬЮ       -->
          <!-- ============================================= -->
          <!-- Основные скрипты с defer для ускорения рендеринга -->
      
          <script src="yandex.js"></script>
          <script src="gift.js"></script>
          <!-- Оптимизированная загрузка скриптов второго приоритета -->
          <script>
            
         document.addEventListener('DOMContentLoaded', function() {
          // === МОДАЛЬНЫЕ ОКНА ===
          
          // Функция открытия модального окна заказа звонка
          window.openSimpleModal = function() {
              // Сначала закрываем окно цен, если оно открыто
              closePriceModal();
              
              // Открываем нужное модальное окно
              document.getElementById('simple-callback').style.display = 'block';
              document.getElementById('simple-modal-overlay').style.display = 'block';
              document.body.style.overflow = 'hidden'; // Блокируем прокрутку страницы
          };
      
          // Функция открытия модального окна с ценами
         
      
          // Функция закрытия модального окна заказа звонка
          window.closeSimpleModal = function() {
              document.getElementById('simple-callback').style.display = 'none';
              document.getElementById('simple-success').style.display = 'none';
              document.getElementById('simple-modal-overlay').style.display = 'none';
              document.body.style.overflow = ''; // Восстанавливаем прокрутку
          };
      
      
          // Функция отправки формы
          window.submitSimpleForm = function(form) {
              // Здесь код для отправки формы
              alert('Спасибо! Ваша заявка принята.');
              
              // После успешной отправки показываем окно успеха
              document.getElementById('simple-callback').style.display = 'none';
              document.getElementById('simple-success').style.display = 'block';
              
              return false;
          };
      
          // === ИНИЦИАЛИЗАЦИЯ ОБРАБОТЧИКОВ ===
          
          // Инициализация кнопок открытия модальных окон
          document.querySelectorAll('.popup-with-form, a[href="#callback"]').forEach(function(button) {
              button.addEventListener('click', function(e) {
                  e.preventDefault();
                  openSimpleModal();
              });
          });
          
          // Инициализация кнопки с классом giguslugi-cta-button
          document.querySelectorAll('.giguslugi-cta-button').forEach(function(button) {
              button.addEventListener('click', function(e) {
                  e.preventDefault();
                  
                  // Сохраняем функциональность gtag
                  if (typeof gtag === 'function') {
                      gtag('event', 'click', {'event_category': 'button', 'event_label': 'consult_button'});
                  }
                  
                  openSimpleModal();
              });
          });
      
          // Обработчик для клика по оверлею обычного модального окна
          document.getElementById('simple-modal-overlay').addEventListener('click', closeSimpleModal);
          
          // Закрытие по клавише Escape
          document.addEventListener('keydown', function(e) {
              if (e.key === 'Escape') {
                  closeSimpleModal();
              }
          });
      });
      
      
          /**
       * ╔══════════════════════════════════════════════════════════════╗  
       * ║           ИНИЦИАЛИЗАЦИЯ ЯНДЕКС КАРТЫ И АНИМАЦИЙ              ║  
       * ╚══════════════════════════════════════════════════════════════╝  
       */
      
      document.addEventListener('DOMContentLoaded', function() {
          // Анимация появления элементов при прокрутке
          initScrollAnimations();
          
          // Инициализация защиты контактных данных
          initContactProtection();
          
          // Загрузка Яндекс Карты
          loadYandexMap();
          
          // Инициализация маски для телефона
          initPhoneMask();
          
          // Обработка отправки формы
          initFormSubmit();
      });
      
      /**
       * Инициализирует анимации при прокрутке
       */
      function initScrollAnimations() {
          const animateElements = [
              '.contact-form-container',
              '.map-container'
          ];
          
          const observer = new IntersectionObserver((entries) => {
              entries.forEach(entry => {
                  if (entry.isIntersecting) {
                      entry.target.classList.add('animate');
                      observer.unobserve(entry.target);
                  }
              });
          }, {
              threshold: 0.1
          });
          
          animateElements.forEach(selector => {
              document.querySelectorAll(selector).forEach(element => {
                  observer.observe(element);
              });
          });
      }
      
      /**
       * Защита контактных данных от парсинга
       */
      function initContactProtection() {
          // Декодирование и отображение email при клике
          document.querySelectorAll('.encoded-email').forEach(link => {
              link.addEventListener('click', function(e) {
                  e.preventDefault();
                  const encodedEmail = this.getAttribute('data-email');
                  const email = atob(encodedEmail);
                  this.innerHTML = email;
                  this.setAttribute('href', 'mailto:' + email);
                  this.classList.remove('encoded-email');
              });
          });
          
          // Декодирование и переход по ссылкам соц.сетей при клике
          document.querySelectorAll('.social-link').forEach(link => {
              link.addEventListener('click', function(e) {
                  e.preventDefault();
                  const encodedLink = this.getAttribute('data-link');
                  const decodedLink = atob(encodedLink);
                  window.open(decodedLink, '_blank');
              });
          });
      }
      
      /**
       * Загрузка Яндекс Карты
       */
      function loadYandexMap() {
          // Проверяем, не загружена ли карта уже
          if (window.ymaps) {
              initYandexMap();
              return;
          }
          
          const script = document.createElement('script');
          script.src = "https://api-maps.yandex.ru/2.1/?apikey=YOUR_API_KEY&lang=ru_RU";
          script.async = true;
          
          script.onload = function() {
              initYandexMap();
          };
          
          document.body.appendChild(script);
      }
          </script>
    
    <!-- Подключение скриптов -->
    <script src="assets/js/main.js"></script>
    <script src="amo-form.js"></script>
    <script src="amocrm_token.js"></script>
    <script src="app.js"></script>
    <script src="modal.js"></script>
    <script src="send_telegram.php"></script>
</body>
</html>
